stages:          # List of stages for jobs, and their order of execution
  - build

build-job:       # This job runs in the build stage, which runs first.
  stage: build
  variables:
    WORKING_DIR: "~/goaccess"
  script:
    - echo $WORKING_DIR
    - if [ -d "$WORKING_DIR" ]; then rm -Rf $WORKING_DIR; fi
    - git clone  --depth 1 git@github.com:artomartom/GoAccess_server.git $WORKING_DIR
    - echo "HOSTNAME='https://goaccess.local'" >> ~/goaccess/.env    
    - echo "LISTEN='0.0.0.0'"   >> ~/goaccess/.env    
    - echo "PORT=3050"   >> ~/goaccess/.env    
    - echo "VERSION='1.0'"   >> ~/goaccess/.env    
    - echo "CACHE"   >> ~/goaccess/.env    
    - echo "CACHE_SRV='redis-cache'"   >> ~/goaccess/.env    
    - echo "CACHE_PORT=6379"   >> ~/goaccess/.env     
    #- rm -rf  ~/goaccess/.env
 









 